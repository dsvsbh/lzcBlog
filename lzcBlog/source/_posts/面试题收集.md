---
title: 面试题收集
date: 2025-01-09 22:22:31
tags: 面试
categories: 面试题
---

1. **对Java的反射如何理解？** Java的反射机制允许在运行时动态地加载、探测、操作类和对象的属性和方法。通过反射，程序可以在运行时检查类的构造方法、成员变量和方法，甚至可以修改它们的值，调用方法。反射是Java的一种强大功能，支持动态对象操作，常用于框架设计、代码生成、依赖注入等场景。

2. **反射机制对于其他没有反射的语言有什么好处？** 反射机制的主要好处是使得程序在运行时具有灵活性，可以动态地加载类、检查类的结构并在运行时操作对象的字段和方法。这种灵活性对于框架和库的设计非常重要，因为它允许程序在不事先知道具体类的情况下操作对象。例如，Java的Spring框架利用反射实现了依赖注入、AOP等特性，而不需要在编译时确定对象类型。

3. **在Java中哪些效率高的功能是基于反射做的呢？**
   
   - **动态代理**：Java的`Proxy`类和`InvocationHandler`接口使用反射机制实现动态代理，使得可以在运行时动态创建代理对象，处理方法调用。
   - **依赖注入（DI）**：在Spring框架中，反射被用来动态地注入依赖。
   - **ORM框架**：如Hibernate、MyBatis，使用反射来映射数据库表和对象之间的关系。
   - **序列化与反序列化**：Java的`Serializable`接口和`ObjectInputStream`/`ObjectOutputStream`的反序列化机制也依赖于反射。

4. **volatile 关键字作用** `volatile`关键字确保变量的值对所有线程都是可见的。它告诉JVM，每当一个线程更新变量的值时，其他线程能够立刻看到这个变化。它避免了线程间的缓存一致性问题。

5. **不加这个关键字对变量修改就不会加到主存吗？加了volatile** 如果没有加`volatile`关键字，线程在修改变量时可能会将修改存储在本地缓存中，而不会立刻写回到主内存，这就会导致其他线程看不到更新的值。加了`volatile`后，确保变量的值在每个线程中都是实时可见的，修改会直接反映到主内存。

6. **加了这个关键字还需要加锁吗？这个关键字的一些应用场景都有哪些呢？** `volatile`不能代替加锁，它仅仅保证变量在多线程中的可见性，但不保证原子性。对于需要保证原子性、多个操作的同步控制，还是需要使用锁（如`ReentrantLock`、`synchronized`）。`volatile`适用于状态标志位、简单计数器等简单场景。

7. **假设让你写一个线程池工具，你觉得应该怎么去设计呢？应该有什么变量？有什么接口，怎么实现的大概说一下**
   
   - **变量**：
     - 核心线程数、最大线程数、队列容量、线程池的状态（如是否关闭）。
   - **接口**：
     - `execute(Runnable task)`：提交任务。
     - `shutdown()`：关闭线程池。
     - `submit(Callable<T> task)`：提交返回结果的任务。
     - `getActiveCount()`：获取当前活动线程数。
   - **实现**：可以通过`ExecutorService`接口来实现线程池，使用`ThreadPoolExecutor`实现，结合阻塞队列（如`LinkedBlockingQueue`）来缓存任务，设置核心线程数和最大线程数来动态调整线程池的大小。

8. **线程数量已经有了，任务超过了线程数量，怎么进行调度呢？比如核心线程数量是5，最大线程是10，现在来了11个任务** 当任务超过线程池的核心线程数时，线程池会将任务放入队列等待执行。如果队列也满了，线程池会创建新的线程来执行任务，直到最大线程数为止。如果达到最大线程数且队列已满，可以使用拒绝策略（如`AbortPolicy`、`CallerRunsPolicy`等）来处理。

9. **如何去定位慢SQL和优化呢**
   
   - **定位慢SQL**：开启数据库的慢查询日志，分析查询执行的时间，或者通过数据库监控工具（如MySQL的`EXPLAIN`语句）来分析SQL的执行计划。
   - **优化**：通过添加索引、重写查询、减少数据库连接数、优化表结构、避免不必要的全表扫描等手段来提升SQL性能。

10. **数据库更新了一些异常数据，如何对异常的修改进行回退？比如清空了一段的一些值** 可以通过事务回滚来实现数据回退。在执行更新操作之前，通过事务确保一系列操作的一致性。如果操作中发现异常，可以调用`rollback()`回滚事务，恢复数据的原始状态。

11. **SQL题:班级表和成绩表，统计这次考试每个班成绩总和的排序**

sql

复制代码

`SELECT class_id, SUM(score) AS total_score FROM score_table GROUP BY class_id ORDER BY total_score DESC;`

12. **内连接和外连接有什么区别**
- **内连接（INNER JOIN）**：返回两个表中符合连接条件的记录。如果某一方没有匹配的记录，则该记录不会出现在结果集中。

- **外连接（OUTER JOIN）**：返回满足连接条件的记录，如果一方没有匹配的记录，则返回另一方的记录，并使用`NULL`填充缺失的部分。外连接分为左外连接、右外连接和全外连接。
13. **介绍一下IOC概念？有什么好处呢？** **IOC（Inversion of Control）**，控制反转，指的是将对象的创建和管理交给框架来完成，而不是在代码中手动创建和管理。它通过依赖注入（DI）实现，让程序的控制逻辑交给容器。好处是解耦、提高可维护性、便于单元测试。

14. **利用kafka如何保证消息的顺序呢？** Kafka通过分区来保证消息的顺序。在一个分区内的消息会按照发送顺序保持一致，消费者会按照分区的顺序读取消息。如果需要全局顺序，则需要保证所有消息都发送到同一个分区。

15. **针对IM项目，问了场景:一个群有1000个人，1000个人同时发消息，会发生消息风暴，如何处理呢？** 可以采用分布式消息队列（如Kafka、RabbitMQ等）来缓解消息风暴，采用消息异步消费、消息压缩等策略。同时可以设计消息去重、限流、批量发送等方式来处理高并发消息。

16. **海量数据找前10个最大？数组做堆排序如何做？**
- **堆排序**：通过构建最大堆，逐步移除最大元素，直到剩下前10个元素。

- **时间复杂度**：堆排序的时间复杂度是`O(n log n)`，适合处理海量数据。
17. **对于一个整数数组4455133，只有一个数字有1个，其他都是2个，并且相同的数是相邻的，如何找出只有一个的那个数的位置？时间复杂度log n** 可以利用二分查找。由于数字是相邻的，且其他数字成对出现，唯一的数字不成对，可以通过二分法找到唯一的数字的位置。

18. **mysql数据库的默认隔离级别？会不会导致幻读**
    
    - MySQL 的默认隔离级别：
    
    在 MySQL 中，默认的事务隔离级别是 **`REPEATABLE READ`（可重复读）**。
    
     `REPEATABLE READ` 是否会导致幻读？
    
    - 什么是幻读？
    
    幻读指的是在一个事务中，某次查询后，另一次查询又看到了“幻影行”。也就是说，**同一个查询条件第一次没有匹配到的数据，第二次却匹配到了，似乎多出了一些行**。这通常是由于其他事务插入了符合条件的行所导致。

19. **nacos的openfeign远程调用是通过http协议吗**
- **OpenFeign 的本质**
  
  - OpenFeign 是基于 HTTP 协议的声明式 HTTP 客户端。它将 HTTP 请求封装成 Java 接口，调用接口方法时，会通过底层的 HTTP 客户端（如 Apache HttpClient 或 OkHttp）发送请求。
  - Feign 的核心功能是简化服务间基于 HTTP 的调用。

- **HTTP 协议作为通信方式**
  
  - 在 OpenFeign 中，每个接口方法映射为一个 HTTP 请求，方法的注解（如 `@GetMapping`、`@PostMapping`）定义了具体的 HTTP 方法和请求路径。
20. 
